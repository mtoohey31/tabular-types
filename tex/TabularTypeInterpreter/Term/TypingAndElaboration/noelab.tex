\lottjudgement{Typing And Elaboration}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, σ}{
\lottinferencerule{var}{
\lotthypothesis{x \, \lottsym{:} \, σ \, \lottsym{∈} \, Γ}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, x \, \typingsym \, σ}
\lottinferencerulesep
\lottinferencerule{lam}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, x \, \lottsym{:} \, τ₀ \, \lottsym{⊢} \, M \, \typingsym \, τ₁}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, τ₀ \, \kindingsym \, \lottsym{\star}}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, \lottsym{λ} \, x \lottsym{.} \, M \, \typingsym \, τ₀ \, \lottsym{→} \, τ₁}
\lottinferencerulesep
\lottinferencerule{app}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, τ₀ \, \lottsym{→} \, τ₁}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, N \, \typingsym \, τ₀}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, N \, \typingsym \, τ₁}
\lottinferencerulesep
\lottinferencerule{qualI}{
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ψ \, \kindingsym \, \lottkw{C}}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, ψ \, \lottsym{⊢} \, M \, \typingsym \, γ}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, ψ \, \lottsym{⇒} \, γ}
\lottinferencerulesep
\lottinferencerule{qualE}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ψ}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, ψ \, \lottsym{⇒} \, γ}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, γ}
\lottinferencerulesep
\lottinferencerule{schemeI}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, a \, \lottsym{:} \, κ \, \lottsym{⊢} \, M \, \typingsym \, σ}\\
\lotthypothesis{\elabrelated{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, \lottsym{∀} \, a \, \lottsym{:} \, κ \lottsym{.} \, σ}
\lottinferencerulesep
\lottinferencerule{schemeE}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, \lottsym{∀} \, a \, \lottsym{:} \, κ \lottsym{.} \, σ}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, τ \, \kindingsym \, κ}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, σ\left[τ/a\right]}
\lottinferencerulesep
\lottinferencerule{let}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, σ₀}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, σ₀ \, \kindingsym \, \lottsym{\star}}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, x \, \lottsym{:} \, σ₀ \, \lottsym{⊢} \, N \, \typingsym \, σ₁}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, \lottkw{let} \, x \, \lottsym{:} \, σ₀ \, \lottsym{=} \, M \, \lottkw{in} \, N \, \typingsym \, σ₁}
\lottinferencerulesep
\lottinferencerule{annot}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, σ}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \lottsym{:} \, σ \, \typingsym \, σ}
\lottinferencerulesep
\lottinferencerule{label}{
\\\\
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ℓ \, \typingsym \, \lottsym{⌊} ℓ \lottsym{⌋}}
\lottinferencerulesep
\lottinferencerule{prod}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, \lottsym{⌊} ξ \lottsym{⌋}}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, N \, \typingsym \, τ}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, \lottsym{\{} M \, \lottsym{▹} \, N \lottsym{\}} \, \typingsym \, {\lottsym{Π}}_{\mathfrak{n}} \, \lottsym{⟨} ξ \, \lottsym{▹} \, τ \lottsym{⟩}}
\lottinferencerulesep
\lottinferencerule{sum}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, \lottsym{⌊} ξ \lottsym{⌋}}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, N \, \typingsym \, τ}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, \lottsym{[} M \, \lottsym{▹} \, N \lottsym{]} \, \typingsym \, {\lottsym{Σ}}_{\mathfrak{n}} \, \lottsym{⟨} ξ \, \lottsym{▹} \, τ \lottsym{⟩}}
\lottinferencerulesep
\lottinferencerule{unlabelProd}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, {\lottsym{Π}}_{\mathfrak{c}} \, \lottsym{⟨} ξ \, \lottsym{▹} \, τ \lottsym{⟩}}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, N \, \typingsym \, \lottsym{⌊} ξ \lottsym{⌋}}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \lottsym{/} N \, \typingsym \, τ}
\lottinferencerulesep
\lottinferencerule{unlabelSum}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, {\lottsym{Σ}}_{\mathfrak{c}} \, \lottsym{⟨} ξ \, \lottsym{▹} \, τ \lottsym{⟩}}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, N \, \typingsym \, \lottsym{⌊} ξ \lottsym{⌋}}\\
\lotthypothesis{\elabrelated{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, τ \, \kindingsym \, \lottsym{\star}}}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \lottsym{/} N \, \typingsym \, τ}
\lottinferencerulesep
\lottinferencerule{prj}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, {\lottsym{Π}}_{μ} \, ρ₀}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₁ \, \lottsym{≲}_{μ} \, ρ₀}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, \lottkw{prj} \, M \, \typingsym \, {\lottsym{Π}}_{μ} \, ρ₁}
\lottinferencerulesep
\lottinferencerule{concat}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, {\lottsym{Π}}_{μ} \, ρ₀}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, N \, \typingsym \, {\lottsym{Π}}_{μ} \, ρ₁}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{μ} \, ρ₁ \, \lottsym{\sim} \, ρ₂}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \lottsym{\doubleplus} N \, \typingsym \, {\lottsym{Π}}_{μ} \, ρ₂}
\lottinferencerulesep
\lottinferencerule{inj}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, {\lottsym{Σ}}_{μ} \, ρ₀}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{≲}_{μ} \, ρ₁}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, \lottkw{inj} \, M \, \typingsym \, {\lottsym{Σ}}_{μ} \, ρ₁}
\lottinferencerulesep
\lottinferencerule{elim}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, \lottsym{(} {\lottsym{Σ}}_{μ} \, ρ₀ \lottsym{)} \, \lottsym{→} \, τ}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, N \, \typingsym \, \lottsym{(} {\lottsym{Σ}}_{μ} \, ρ₁ \lottsym{)} \, \lottsym{→} \, τ}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{μ} \, ρ₁ \, \lottsym{\sim} \, ρ₂}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, τ \, \kindingsym \, \lottsym{\star}}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \lottsym{▿} \, N \, \typingsym \, \lottsym{(} {\lottsym{Σ}}_{μ} \, ρ₂ \lottsym{)} \, \lottsym{→} \, τ}
\lottinferencerulesep
\lottinferencerule{sub}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, σ₀}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, σ₀ \, \subtypingsym \, σ₁}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, M \, \typingsym \, σ₁}
\lottinferencerulesep
\lottinferencerule{member}{
\lotthypothesis{\lottsym{(} \lottsepbycomprehension{{TCₛ}_{i} \, a} \, \lottsym{⇒} \, TC \, a \, \lottsym{:} \, κ \lottsym{)} \, \lottsym{↦} \, m \, \lottsym{:} \, σ \, \lottsym{∈} \, Γ_{C}}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, TC \, τ}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, m \, \typingsym \, σ\left[τ/a\right]}
\lottinferencerulesep
\lottinferencerule{ind}{
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ \, \kindingsym \, \lottkw{R}^{κ}}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, a \, \lottsym{:} \, \lottkw{R}^{κ} \, \lottsym{⊢} \, τ \, \kindingsym \, \lottsym{\star}}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, aₗ \, \lottsym{:} \, \lottkw{L} \lottsym{,} \, aₜ \, \lottsym{:} \, κ \lottsym{,} \, aₚ \, \lottsym{:} \, \lottkw{R}^{κ} \lottsym{,} \, aᵢ \, \lottsym{:} \, \lottkw{R}^{κ} \lottsym{,} \, aₙ \, \lottsym{:} \, \lottkw{R}^{κ} \, \lottsym{⊢} \, M \, \typingsym \, aₚ \, \lottsym{⊙}_{\mathfrak{n}} \, \lottsym{⟨} aₗ \, \lottsym{▹} \, aₜ \lottsym{⟩} \, \lottsym{\sim} \, aᵢ \, \lottsym{⇒} \, aᵢ \, \lottsym{⊙}_{\mathfrak{n}} \, aₙ \, \lottsym{\sim} \, ρ \, \lottsym{⇒} \, \lottsym{⌊} aₗ \lottsym{⌋} \, \lottsym{→} \, τ\left[aₚ/a\right] \, \lottsym{→} \, τ\left[aᵢ/a\right]}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, N \, \typingsym \, τ\left[\lottsym{⟨}  \lottsym{⟩}/a\right]}\\
\lotthypothesis{\elabrelated{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}}\\
\lotthypothesis{\elabrelated{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{Ind} \, ρ}}\\
\lottlet{\targetpre E \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre F \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre A \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre aₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{\star} \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre K \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₚ \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aᵢ \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₙ \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre E₀ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre E₁ \targetpost \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, \lottkw{ind} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, \lottkw{R}^{κ} \lottsym{.} \, τ \lottsym{)} \, ρ \, M \, N \, \typingsym \, τ\left[ρ/a\right]}
}
