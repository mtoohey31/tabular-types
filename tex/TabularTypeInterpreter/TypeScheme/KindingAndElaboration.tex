\lottjudgement{Kinding And Elaboration}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre σ \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost}{\lottinferencerule{var}{\lotthypothesis{\sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottsym{∈} \, \sourcepre Γ \sourcepost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre a \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre a \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{app}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ϕ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \sourcepre κ₀ \sourcepost \, \lottsym{↦} \, \sourcepre κ₁ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre τ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ₀ \sourcepost \, \lottsym{⇝} \, \targetpre B \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre ϕ \sourcepost \, \sourcepre τ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ₁ \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \, \targetpre B \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{arr}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre τ₀ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \star \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre τ₁ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \star \sourcepost \, \lottsym{⇝} \, \targetpre B \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre τ₀ \sourcepost \, \lottsym{→} \, \sourcepre τ₁ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \star \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \, \lottsym{→} \, \targetpre B \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{qual}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ψ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre γ \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre B \targetpost} \\ \lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre \star \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ψ \sourcepost \, \lottsym{⇒} \, \sourcepre γ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \, \lottsym{→} \, \targetpre B \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{scheme}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ₀ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre σ \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ₁ \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost} \\ \lotthypothesis{\lottsym{⊢} \, \sourcepre κ₀ \sourcepost \, \lottsym{⇝} \, \targetpre K₀ \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \lottsym{∀} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ₀ \sourcepost \lottsym{.} \, \sourcepre σ \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ₁ \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{∀} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre A \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{label}{\\\\}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre ℓ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{L} \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{floor}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ξ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{L} \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \lottsym{⌊} \sourcepre ξ \sourcepost \lottsym{⌋} \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \star \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{comm}{\\\\}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre u \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{U} \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{row}{\lotthypothesis{\lottjudgementcomprehension{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre {ξ}_{i} \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{L} \sourcepost \, \lottsym{⇝} \, \targetpre {B}_{i} \targetpost}} \\ \lotthypothesis{\lottkw{unique} \lottsym{(} \lottsepbycomprehension{\sourcepre {ξ}_{i} \sourcepost} \lottsym{)}} \\ \lotthypothesis{\lottjudgementcomprehension{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre {τ}_{i} \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre {A}_{i} \targetpost}}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \lottsym{⟨} \lottsepbycomprehension{\sourcepre {ξ}_{i} \sourcepost \, \lottsym{▹} \, \sourcepre {τ}_{i} \sourcepost} \lottsym{⟩} \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{\{} \lottsepbycomprehension{\targetpre {A}_{i} \targetpost} \lottsym{\}} \targetpost} \lottinferencerulesep \lottinferencerule{prod}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre μ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{U} \sourcepost \, \lottsym{⇝} \, \targetpre B \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre \star \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre {\sourcepre \lottsym{Π} \sourcepost}_{\sourcepre μ \sourcepost} \, \sourcepre ρ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \star \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{⊗} \, \targetpre A \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{sum}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre μ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{U} \sourcepost \, \lottsym{⇝} \, \targetpre B \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre \star \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre {\sourcepre \lottsym{Σ} \sourcepost}_{\sourcepre μ \sourcepost} \, \sourcepre ρ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \star \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{⊕} \, \targetpre A \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{lift}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ₀ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre τ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ₁ \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost} \\ \lotthypothesis{\lottsym{⊢} \, \sourcepre κ₀ \sourcepost \, \lottsym{⇝} \, \targetpre K₀ \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ₀ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre B \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \lottkw{Lift} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ₀ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ₁ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre A \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{⟦} \targetpre B \targetpost \lottsym{⟧} \targetpost} \lottinferencerulesep \lottinferencerule{contain}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre μ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{U} \sourcepost \, \lottsym{⇝} \, \targetpre B \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₀ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₀ \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₁ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₁ \targetpost} \\ \lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{≲}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₁ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \lottsym{∀} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{∀} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \targetpost \targetpost \lottsym{\}} \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{concat}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre μ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{U} \sourcepost \, \lottsym{⇝} \, \targetpre B \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₀ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₀ \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₁ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₁ \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₂ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₂ \targetpost} \\ \lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{≲}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₂ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre Bₗ \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre ρ₁ \sourcepost \, \lottsym{≲}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₂ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre Bᵣ \targetpost} \\ \lottlet{\targetpre Bₙ \targetpost}{\targetpre \lottsym{∀} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \targetpost \targetpost \targetpost} \\ \lottlet{\targetpre Bₑ \targetpost}{\targetpre \lottsym{∀} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \star \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₁ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₂ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre Bₙ \targetpost \lottsym{,} \, \targetpre Bₑ \targetpost \lottsym{,} \, \targetpre Bₗ \targetpost \lottsym{,} \, \targetpre Bᵣ \targetpost \lottsym{\}} \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{tc}{\lotthypothesis{\sourcepre \lottsym{(} \lottsepbycomprehension{\sourcepre {TCₛ}_{i} \sourcepost \, \sourcepre a \sourcepost \, \lottsym{⇝} \, \targetpre {Aₛ}_{i} \targetpost} \, \lottsym{⇒} \, \sourcepre TC \sourcepost \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{)} \, \lottsym{↦} \, \sourcepre m \sourcepost \, \lottsym{:} \, \sourcepre σ \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost \sourcepost \, \lottsym{∈} \, \sourcepre Γ_{C} \sourcepost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre τ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre B \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre TC \sourcepost \, \sourcepre τ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre A \targetpost\left[\targetpre B \targetpost/\targetpre a \targetpost\right] \targetpost \lottsym{,} \, \lottsepbycomprehension{\targetpre \targetpre {Aₛ}_{i} \targetpost\left[\targetpre B \targetpost/\targetpre a \targetpost\right] \targetpost} \lottsym{\}} \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{all}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre ψ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost} \\ \lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre B \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \lottkw{All} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre ψ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \lottsym{(} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K \targetpost \lottsym{.} \, \targetpre A \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{⟦} \targetpre B \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{ind}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost} \\ \lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre \sourcepre \sourcepre \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre aₗ \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{L} \sourcepost \sourcepost \lottsym{,} \, \sourcepre aₜ \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \sourcepost \lottsym{,} \, \sourcepre aₚ \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \sourcepost \lottsym{,} \, \sourcepre aᵢ \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \sourcepost \lottsym{,} \, \sourcepre aₙ \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre \sourcepre aₚ \sourcepost \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \lottkw{N} \sourcepost \sourcepost} \, \sourcepre \lottsym{⟨} \sourcepre \sourcepre aₗ \sourcepost \sourcepost \, \lottsym{▹} \, \sourcepre \sourcepre aₜ \sourcepost \sourcepost \lottsym{⟩} \sourcepost \, \lottsym{\sim} \, \sourcepre \sourcepre aᵢ \sourcepost \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre \targetpre \targetpre \targetpre \targetpre Bᵣ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre aᵢ \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \sourcepost \lottsym{,} \, \sourcepre aₙ \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre \sourcepre aᵢ \sourcepost \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \lottkw{N} \sourcepost \sourcepost} \, \sourcepre \sourcepre aₙ \sourcepost \sourcepost \, \lottsym{\sim} \, \sourcepre ρ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre \targetpre Bₗ \targetpost \targetpost \targetpost} \\ \lottlet{\targetpre Aₛ \targetpost}{\targetpre \lottsym{∀} \, \targetpre aₗ \targetpost \, \lottsym{:} \, \targetpre \star \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre K \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aₚ \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aᵢ \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aₙ \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre \targetpre Bᵣ \targetpost \, \lottsym{→} \, \targetpre \targetpre Bₗ \targetpost \, \lottsym{→} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre aₘ \targetpost \targetpost \, \targetpre \targetpre aₚ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre \targetpre aₘ \targetpost \targetpost \, \targetpre \targetpre aᵢ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \lottkw{Ind} \, \sourcepre ρ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{∀} \, \targetpre aₘ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{)} \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre Aₛ \targetpost \, \lottsym{→} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre aₘ \targetpost \targetpost \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre \targetpre aₘ \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \targetpost \targetpost} \lottinferencerulesep \lottinferencerule{split}{\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre \lottsym{(} \sourcepre \lottkw{Lift} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₀ \sourcepost \sourcepost \lottsym{)} \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \lottkw{C} \sourcepost \sourcepost} \, \sourcepre ρ₁ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₂ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost}}{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \lottkw{Split} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₀ \sourcepost \, \sourcepre ρ₁ \sourcepost \, \sourcepre ρ₂ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost}}
