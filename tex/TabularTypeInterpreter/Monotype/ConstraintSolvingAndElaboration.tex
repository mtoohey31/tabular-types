\lottjudgement{Constraint Solving And Elaboration}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ψ \, \lottsym{⇝} \, \targetpre E \targetpost}{
\lottinferencerule{local}{
\lotthypothesis{ψ \, \lottsym{⇝} \, \targetpre x \targetpost \, \lottsym{∈} \, Γ}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ψ \, \lottsym{⇝} \, \targetpre \targetpre x \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerule{containTrans}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{≲}_{μ} \, ρ₁ \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₁ \, \lottsym{≲}_{μ} \, ρ₂ \, \lottsym{⇝} \, \targetpre F \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₀ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₀ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₂ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₂ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₚ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre F \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre F \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{≲}_{μ} \, ρ₂ \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₚ \targetpost \lottsym{,} \, \targetpre Eᵢ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{containConcat}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{μ} \, ρ₁ \, \lottsym{\sim} \, ρ₂ \, \lottsym{⇝} \, \targetpre E₂ \targetpost}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₃ \, \lottsym{⊙}_{μ} \, ρ₄ \, \lottsym{\sim} \, ρ₅ \, \lottsym{⇝} \, \targetpre E₅ \targetpost}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{≲}_{μ} \, ρ₃ \, \lottsym{⇝} \, \targetpre Fₗ \targetpost}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₁ \, \lottsym{≲}_{μ} \, ρ₄ \, \lottsym{⇝} \, \targetpre Fᵣ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₀ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₀ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₁ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₁ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₂ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₂ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₅ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₅ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₚ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre Fₗ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₅ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre Fᵣ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₅ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₅ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre Fₗ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₅ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre Fᵣ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₂ \, \lottsym{≲}_{μ} \, ρ₅ \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₚ \targetpost \lottsym{,} \, \targetpre Eᵢ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatConcrete}{
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ξ₀}_{i} \, \lottsym{▹} \, {τ₀}_{i}}{i}{[:m]} \lottsym{⟩} \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₀ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ξ₁}_{j} \, \lottsym{▹} \, {τ₁}_{j}}{j}{[:n]} \lottsym{⟩} \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₁ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ξ₀}_{i} \, \lottsym{▹} \, {τ₀}_{i}}{i}{[:m]} \lottsym{,} \, \lottsepbycomprehensionpatcollection{{ξ₁}_{j} \, \lottsym{▹} \, {τ₁}_{j}}{j}{[:n]} \lottsym{⟩} \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₂ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lotthypothesis{\lottjudgementcomprehensionpatcollection{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, {τ₀}_{i} \, \kindingsym \, κ \, \lottsym{⇝} \, \targetpre {B₀}_{i} \targetpost}{i}{[:m]}}\\
\lotthypothesis{\lottjudgementcomprehensionpatcollection{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, {τ₁}_{j} \, \kindingsym \, κ \, \lottsym{⇝} \, \targetpre {B₁}_{j} \targetpost}{j}{[:n]}}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(} \lottsepbycomprehensionpatcollection{\targetpre \lottsym{π}_{i} \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost}{i}{[:m]} \lottsym{,} \, \lottsepbycomprehensionpatcollection{\targetpre \lottsym{π}_{j} \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost}{j}{[:n]} \lottsym{)} \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ' \targetpost}{\targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{} \lottsepbycomprehensionpatcollection{\targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \targetpre \targetpre a \targetpost \targetpost \, \targetpre {B₀}_{i} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre xₗ \targetpost \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{ι}_{i} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost}{i}{[:m]} \lottsym{,} \, \lottsepbycomprehensionpatcollection{\targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \targetpre \targetpre a \targetpost \targetpost \, \targetpre {B₁}_{j} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre xᵣ \targetpost \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{ι}_{j} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost}{j}{[:n]} \lottsym{\}} \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \lottsym{\star} \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre Eₑ' \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₚₗ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(} \lottsepbycomprehensionpatcollection{\targetpre \lottsym{π}_{i} \, \targetpre \targetpre x \targetpost \targetpost \targetpost}{i}{[:m]} \lottsym{)} \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢₗ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{} \lottsepbycomprehensionpatcollection{\targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \targetpre \targetpre a \targetpost \targetpost \, \targetpre {B₀}_{i} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{ι}_{i} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost}{i}{[:m]} \lottsym{\}} \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre Eₚₗ \targetpost \lottsym{,} \, \targetpre Eᵢₗ \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eₚᵣ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(} \lottsepbycomprehensionpatcollection{\targetpre \lottsym{π}_{(m + j)} \, \targetpre \targetpre x \targetpost \targetpost \targetpost}{j}{[:n]} \lottsym{)} \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢᵣ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{} \lottsepbycomprehensionpatcollection{\targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \targetpre \targetpre a \targetpost \targetpost \, \targetpre {B₁}_{j} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{ι}_{(m + j)} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost}{j}{[:n]} \lottsym{\}} \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre Eₚᵣ \targetpost \lottsym{,} \, \targetpre Eᵢᵣ \targetpost \lottsym{)} \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ξ₀}_{i} \, \lottsym{▹} \, {τ₀}_{i}}{i}{[:m]} \lottsym{⟩} \, \lottsym{⊙}_{\mathfrak{n}} \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ξ₁}_{j} \, \lottsym{▹} \, {τ₁}_{j}}{j}{[:n]} \lottsym{⟩} \, \lottsym{\sim} \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ξ₀}_{i} \, \lottsym{▹} \, {τ₀}_{i}}{i}{[:m]} \lottsym{,} \, \lottsepbycomprehensionpatcollection{{ξ₁}_{j} \, \lottsym{▹} \, {τ₁}_{j}}{j}{[:n]} \lottsym{⟩} \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatEmptyL}{
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \lottsym{\star} \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottsym{⟨}  \lottsym{⟩} \, \lottsym{⊙}_{\mathfrak{n}} \, ρ \, \lottsym{\sim} \, ρ \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatEmptyR}{
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \lottsym{\star} \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \targetpost \lottsym{)} \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ \, \lottsym{⊙}_{\mathfrak{n}} \, \lottsym{⟨}  \lottsym{⟩} \, \lottsym{\sim} \, ρ \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatAssocL}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{μ} \, ρ₁ \, \lottsym{\sim} \, ρ₃ \, \lottsym{⇝} \, \targetpre E₀₁ \targetpost}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₁ \, \lottsym{⊙}_{μ} \, ρ₂ \, \lottsym{\sim} \, ρ₄ \, \lottsym{⇝} \, \targetpre E₁₂ \targetpost}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{μ} \, ρ₄ \, \lottsym{\sim} \, ρ₅ \, \lottsym{⇝} \, \targetpre E₀₄ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₀ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₀ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₁ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₁ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₂ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₂ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₃ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₃ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₅ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₅ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₙᵣ \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₁₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₃ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₀₄ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre Eₙᵣ \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑᵣ' \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₁₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \targetpre aₜ \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre xₗ \targetpost \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ' \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₀₄ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \targetpre aₜ \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre xₗ \targetpost \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre Eₑᵣ' \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \lottsym{\star} \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₃ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre Eₑ' \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₚₗ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₀₁ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₀₄ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₄ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢₗᵣ \targetpost}{\targetpre \lottsym{λ} \, \targetpre x' \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₄ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x' \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢₗ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₀₁ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₀₄ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre Eᵢₗᵣ \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre Eₚₗ \targetpost \lottsym{,} \, \targetpre Eᵢₗ \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eₚᵣ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₄ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢᵣ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₄ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre Eₚᵣ \targetpost \lottsym{,} \, \targetpre Eᵢᵣ \targetpost \lottsym{)} \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₃ \, \lottsym{⊙}_{μ} \, ρ₂ \, \lottsym{\sim} \, ρ₅ \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatAssocR}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{μ} \, ρ₁ \, \lottsym{\sim} \, ρ₃ \, \lottsym{⇝} \, \targetpre E₀₁ \targetpost}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₁ \, \lottsym{⊙}_{μ} \, ρ₂ \, \lottsym{\sim} \, ρ₄ \, \lottsym{⇝} \, \targetpre E₁₂ \targetpost}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₃ \, \lottsym{⊙}_{μ} \, ρ₂ \, \lottsym{\sim} \, ρ₅ \, \lottsym{⇝} \, \targetpre E₃₂ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₀ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₀ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₁ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₁ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₂ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₂ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₄ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₄ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₅ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₅ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₙₗ \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₀₁ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₄ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₃₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre Eₙₗ \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑₗ' \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₀₁ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \targetpre aₜ \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre xᵣ \targetpost \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ' \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₃₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \targetpre aₜ \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre Eₑₗ' \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre xᵣ \targetpost \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \lottsym{\star} \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₄ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre Eₑ' \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗₚ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₃₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗᵢ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₃₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre Eₗₚ \targetpost \lottsym{,} \, \targetpre Eₗᵢ \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eᵣₚ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₁₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₃₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₃₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵣᵢₗ \targetpost}{\targetpre \lottsym{λ} \, \targetpre x' \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₃₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x' \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵣᵢ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(} \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₁₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre Eᵣᵢₗ \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₃₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre Eᵣₚ \targetpost \lottsym{,} \, \targetpre Eᵣᵢ \targetpost \lottsym{)} \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{μ} \, ρ₄ \, \lottsym{\sim} \, ρ₅ \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatSwap}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{\mathfrak{c}} \, ρ₁ \, \lottsym{\sim} \, ρ₂ \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₀ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₀ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₁ \, \kindingsym \, \lottkw{R}^{κ} \, \lottsym{⇝} \, \targetpre A₁ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \lottsym{\star} \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \targetpre aₜ \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₁ \, \lottsym{⊙}_{\mathfrak{c}} \, ρ₀ \, \lottsym{\sim} \, ρ₂ \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre \lottsym{π}_{3} \, \targetpre E \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{π}_{2} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatContainL}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{μ} \, ρ₁ \, \lottsym{\sim} \, ρ₂ \, \lottsym{⇝} \, \targetpre E \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{≲}_{μ} \, ρ₂ \, \lottsym{⇝} \, \targetpre \lottsym{π}_{2} \, \targetpre E \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerule{concatContainR}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{μ} \, ρ₁ \, \lottsym{\sim} \, ρ₂ \, \lottsym{⇝} \, \targetpre E \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₁ \, \lottsym{≲}_{μ} \, ρ₂ \, \lottsym{⇝} \, \targetpre \lottsym{π}_{3} \, \targetpre E \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerule{containDecay}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{≲}_{μ₀} \, ρ₁ \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{μ₀ \, \partialordsym \, μ₁}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, μ₁ \, \kindingsym \, \lottkw{U}}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{≲}_{μ₁} \, ρ₁ \, \lottsym{⇝} \, \targetpre E \targetpost}
\lottinferencerulesep
\lottinferencerule{concatDecay}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{μ₀} \, ρ₁ \, \lottsym{\sim} \, ρ₂ \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{μ₀ \, \partialordsym \, μ₁}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, μ₁ \, \kindingsym \, \lottkw{U}}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{μ₁} \, ρ₁ \, \lottsym{\sim} \, ρ₂ \, \lottsym{⇝} \, \targetpre E \targetpost}
\lottinferencerulesep
\lottinferencerule{liftContain}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{≲}_{μ} \, ρ₁ \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₀ \, \kindingsym \, \lottkw{R}^{κ₀}}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, a \, \lottsym{:} \, κ₀ \, \lottsym{⊢} \, τ \, \kindingsym \, κ₁ \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ₀ \, \lottsym{⇝} \, \targetpre K₀ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ₁ \, \lottsym{⇝} \, \targetpre K₁ \targetpost}\\
\lottlet{\targetpre Eₚ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottsym{(} \lottkw{Lift} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ₀ \lottsym{.} \, τ \lottsym{)} \, ρ₀ \lottsym{)} \, \lottsym{≲}_{μ} \, \lottsym{(} \lottkw{Lift} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ₀ \lottsym{.} \, τ \lottsym{)} \, ρ₁ \lottsym{)} \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₚ \targetpost \lottsym{,} \, \targetpre Eᵢ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{liftConcat}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{μ} \, ρ₁ \, \lottsym{\sim} \, ρ₂ \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ρ₀ \, \kindingsym \, \lottkw{R}^{κ₀}}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, a \, \lottsym{:} \, κ₀ \, \lottsym{⊢} \, τ \, \kindingsym \, κ₁ \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ₀ \, \lottsym{⇝} \, \targetpre K₀ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ₁ \, \lottsym{⇝} \, \targetpre K₁ \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost \lottsym{)} \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottsym{(} \lottkw{Lift} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ₀ \lottsym{.} \, τ \lottsym{)} \, ρ₀ \lottsym{)} \, \lottsym{⊙}_{μ} \, \lottsym{(} \lottkw{Lift} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ₀ \lottsym{.} \, τ \lottsym{)} \, ρ₁ \lottsym{)} \, \lottsym{\sim} \, \lottsym{(} \lottkw{Lift} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ₀ \lottsym{.} \, τ \lottsym{)} \, ρ₂ \lottsym{)} \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{TCInst}{
\lotthypothesis{\lottsym{(} \lottsym{∀} \, \lottsepbycomprehension{{a}_{k} \, \lottsym{:} \, {κ}_{k}} \lottsym{.} \, \lottsepbycomprehension{{ψ}_{j} \, \lottsym{⇝} \, \targetpre {x}_{j} \targetpost} \, \lottsym{⇒} \, TC \, τ₀ \lottsym{)} \, \lottsym{⇝} \, \targetpre E \targetpost \lottsym{;} \, \lottsepbycomprehension{\targetpre {Eₛ}_{i} \targetpost} \, \lottsym{∈} \, Γ_{I}}\\
\lotthypothesis{\lottjudgementcomprehension{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, {τ₁}_{k} \, \kindingsym \, {κ}_{k} \, \lottsym{⇝} \, \targetpre {B}_{k} \targetpost}}\\
\lotthypothesis{\lottjudgementcomprehension{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, {ψ}_{j}\lottsepbycomprehension{\left[{τ₁}_{k}/{a}_{k}\right]} \, \lottsym{⇝} \, \targetpre {F}_{j} \targetpost}}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, TC \, τ₀\lottsepbycomprehension{\left[{τ₁}_{k}/{a}_{k}\right]} \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre E \targetpost\lottsepbycomprehension{\left[{\targetpre B \targetpost}_{k}/{\targetpre a \targetpost}_{k}\right]} \targetpost\lottsepbycomprehension{\left[{\targetpre F \targetpost}_{j}/{\targetpre x \targetpost}_{j}\right]} \targetpost \lottsym{,} \, \lottsepbycomprehension{\targetpre \targetpre \targetpre {Eₛ}_{i} \targetpost\lottsepbycomprehension{\left[{\targetpre B \targetpost}_{k}/{\targetpre a \targetpost}_{k}\right]} \targetpost\lottsepbycomprehension{\left[{\targetpre F \targetpost}_{j}/{\targetpre x \targetpost}_{j}\right]} \targetpost} \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{TCSuper}{
\lotthypothesis{\lottsym{(} \lottsepbycomprehensionpatcollection{{TCₛ}_{j} \, a \, \lottsym{⇝} \, \targetpre {Aₛ}_{j} \targetpost}{j}{[:n]} \, \lottsym{⇒} \, TC \, a \, \lottsym{:} \, κ \lottsym{)} \, \lottsym{↦} \, m \, \lottsym{:} \, σ \, \lottsym{⇝} \, \targetpre A \targetpost \, \lottsym{∈} \, Γ_{C}}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, TC \, τ \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{i \, \lottsym{∈} \, \lottsym{[} \lottsym{:} n \lottsym{]}}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, {TCₛ}_{i} \, τ \, \lottsym{⇝} \, \targetpre \lottsym{π}_{(1 + i)} \, \targetpre E \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerule{allEmpty}{
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, a \, \lottsym{:} \, κ \, \lottsym{⊢} \, ψ \, \kindingsym \, \lottkw{C} \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{All} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, ψ \lottsym{)} \, \lottsym{⟨}  \lottsym{⟩} \, \lottsym{⇝} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{allSingletonIntro}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ψ\left[τ/a\right] \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, a \, \lottsym{:} \, κ \, \lottsym{⊢} \, ψ \, \kindingsym \, \lottkw{C} \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ξ \, \kindingsym \, \lottkw{L}}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, τ \, \kindingsym \, κ}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{All} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, ψ \lottsym{)} \, \lottsym{⟨} ξ \, \lottsym{▹} \, τ \lottsym{⟩} \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre E \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{allSingletonElim}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{All} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, ψ \lottsym{)} \, \lottsym{⟨} ξ \, \lottsym{▹} \, τ \lottsym{⟩} \, \lottsym{⇝} \, \targetpre E \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ψ\left[τ/a\right] \, \lottsym{⇝} \, \targetpre \lottsym{π}_{0} \, \targetpre E \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerule{allContain}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{≲}_{\mathfrak{c}} \, ρ₁ \, \lottsym{⇝} \, \targetpre F \targetpost}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{All} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, ψ \lottsym{)} \, ρ₁ \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, a \, \lottsym{:} \, κ \, \lottsym{⊢} \, ψ \, \kindingsym \, \lottkw{C} \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{All} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, ψ \lottsym{)} \, ρ₀ \, \lottsym{⇝} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre F \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K \targetpost \lottsym{.} \, \targetpre A \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre E \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerule{allConcat}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₀ \, \lottsym{⊙}_{\mathfrak{c}} \, ρ₁ \, \lottsym{\sim} \, ρ₂ \, \lottsym{⇝} \, \targetpre F \targetpost}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{All} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, ψ \lottsym{)} \, ρ₀ \, \lottsym{⇝} \, \targetpre E₀ \targetpost}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{All} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, ψ \lottsym{)} \, ρ₁ \, \lottsym{⇝} \, \targetpre E₁ \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, a \, \lottsym{:} \, κ \, \lottsym{⊢} \, ψ \, \kindingsym \, \lottkw{C} \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{All} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, ψ \lottsym{)} \, ρ₂ \, \lottsym{⇝} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre F \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K \targetpost \lottsym{.} \, \targetpre A \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre E₀ \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre E₁ \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerulecommented{ind}{where the comprehension in $\targetpre E' \targetpost$ is repeated application}{
\lotthypothesis{\lottjudgementcomprehensionpatcollection{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, {τ}_{i} \, \kindingsym \, κ \, \lottsym{⇝} \, \targetpre {A}_{i} \targetpost}{i}{[:n]}}\\
\lotthypothesis{\lottsym{⊢} \, κ \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, aₗ \, \lottsym{:} \, \lottkw{L} \lottsym{,} \, aₜ \, \lottsym{:} \, κ \lottsym{,} \, aₚ \, \lottsym{:} \, \lottkw{R}^{κ} \lottsym{,} \, aᵢ \, \lottsym{:} \, \lottkw{R}^{κ} \, \lottsym{⊢} \, aₚ \, \lottsym{⊙}_{\mathfrak{n}} \, \lottsym{⟨} aₗ \, \lottsym{▹} \, aₜ \lottsym{⟩} \, \lottsym{\sim} \, aᵢ \, \kindingsym \, \lottkw{C} \, \lottsym{⇝} \, \targetpre \targetpre \targetpre \targetpre \targetpre Bₗ \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, aᵢ \, \lottsym{:} \, \lottkw{R}^{κ} \lottsym{,} \, aₙ \, \lottsym{:} \, \lottkw{R}^{κ} \, \lottsym{⊢} \, aᵢ \, \lottsym{⊙}_{\mathfrak{n}} \, aₙ \, \lottsym{\sim} \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ℓ}_{i} \, \lottsym{▹} \, {τ}_{i}}{i}{[:n]} \lottsym{⟩} \, \kindingsym \, \lottkw{C} \, \lottsym{⇝} \, \targetpre \targetpre \targetpre Bᵣ \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Aₛ \targetpost}{\targetpre \lottsym{∀} \, \targetpre aₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{\star} \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre K \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aₚ \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aᵢ \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aₙ \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre \targetpre Bₗ \targetpost \, \lottsym{→} \, \targetpre \targetpre Bᵣ \targetpost \, \lottsym{→} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre aₘ \targetpost \targetpost \, \targetpre \targetpre aₚ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre \targetpre aₘ \targetpost \targetpost \, \targetpre \targetpre aᵢ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lotthypothesis{\lottjudgementcomprehensionpatcollection{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ℓ}_{j} \, \lottsym{▹} \, {τ}_{j}}{j}{[:i]} \lottsym{⟩} \, \lottsym{⊙}_{\mathfrak{n}} \, \lottsym{⟨} {ℓ}_{i} \, \lottsym{▹} \, {τ}_{i} \lottsym{⟩} \, \lottsym{\sim} \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ℓ}_{k} \, \lottsym{▹} \, {τ}_{k}}{k}{[:i+1]} \lottsym{⟩} \, \lottsym{⇝} \, \targetpre {Eₗ}_{i} \targetpost}{i}{[:n]}}\\
\lotthypothesis{\lottjudgementcomprehensionpatcollection{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ℓ}_{j} \, \lottsym{▹} \, {τ}_{j}}{j}{[:i+1]} \lottsym{⟩} \, \lottsym{⊙}_{\mathfrak{n}} \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ℓ}_{k} \, \lottsym{▹} \, {τ}_{k}}{k}{[i+1:n]} \lottsym{⟩} \, \lottsym{\sim} \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ℓ}_{l} \, \lottsym{▹} \, {τ}_{l}}{l}{[:n]} \lottsym{⟩} \, \lottsym{⇝} \, \targetpre {Eᵣ}_{i} \targetpost}{i}{[:n]}}\\
\lottlet{\targetpre E' \targetpost}{\targetpre \lottsepbycomprehensionpatcollection{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \targetpre \targetpre \targetpre \targetpre xₛ \targetpost \targetpost \, \lottsym{[} \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre {A}_{i} \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \lottsym{\{} \lottsepbycomprehensionpatcollection{\targetpre {A}_{j} \targetpost}{j}{[:i]} \lottsym{\}} \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \lottsym{\{} \lottsepbycomprehensionpatcollection{\targetpre {A}_{k} \targetpost}{k}{[:i+1]} \lottsym{\}} \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \lottsym{\{} \lottsepbycomprehensionpatcollection{\targetpre {A}_{l} \targetpost}{l}{[i+1:n]} \lottsym{\}} \targetpost \lottsym{]} \targetpost \, \targetpre {Eₗ}_{i} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre {Eᵣ}_{i} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost}{i}{[:n]} \, \targetpre \targetpre xᵢ \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre E \targetpost}{\targetpre \lottsym{Λ} \, \targetpre aₘ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{)} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₛ \targetpost \, \lottsym{:} \, \targetpre Aₛ \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵢ \targetpost \, \lottsym{:} \, \targetpre \targetpre \targetpre aₘ \targetpost \targetpost \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre E' \targetpost \targetpost \targetpost \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{Ind} \, \lottsym{⟨} \lottsepbycomprehensionpatcollection{{ℓ}_{i} \, \lottsym{▹} \, {τ}_{i}}{i}{[:n]} \lottsym{⟩} \, \lottsym{⇝} \, \targetpre E \targetpost}
\lottinferencerulesep
\lottinferencerule{splitEmpty}{
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, a \, \lottsym{:} \, κ \, \lottsym{⊢} \, τ \, \kindingsym \, \lottsym{\star} \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \lottsym{\star} \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗᵣ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{Split} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, τ \lottsym{)} \, \lottsym{⟨}  \lottsym{⟩} \, \lottsym{⟨}  \lottsym{⟩} \, \lottsym{⟨}  \lottsym{⟩} \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗᵣ \targetpost \lottsym{,} \, \targetpre Eₗᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{splitSingletonMatch}{
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, a \, \lottsym{:} \, κ \, \lottsym{⊢} \, τ₀ \, \kindingsym \, \lottsym{\star} \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, τ₁ \, \kindingsym \, κ \, \lottsym{⇝} \, \targetpre B \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ξ \, \kindingsym \, \lottkw{L}}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre \targetpre A \targetpost\left[\targetpre B \targetpost/\targetpre a \targetpost\right] \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \lottsym{\star} \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre \targetpre A \targetpost\left[\targetpre B \targetpost/\targetpre a \targetpost\right] \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre \targetpre A \targetpost\left[\targetpre B \targetpost/\targetpre a \targetpost\right] \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre \targetpre A \targetpost\left[\targetpre B \targetpost/\targetpre a \targetpost\right] \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre \targetpre A \targetpost\left[\targetpre B \targetpost/\targetpre a \targetpost\right] \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \targetpost \lottsym{)} \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{Split} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, τ₀ \lottsym{)} \, \lottsym{⟨} ξ \, \lottsym{▹} \, τ₁ \lottsym{⟩} \, \lottsym{⟨}  \lottsym{⟩} \, \lottsym{⟨} ξ \, \lottsym{▹} \, τ₀\left[τ₁/a\right] \lottsym{⟩} \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{splitSingletonRest}{
\lotthypothesis{\lottsym{∄} \, τ₂, F, Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, τ₁ \, \subtypingsym \, τ₀\left[τ₂/a\right] \, \lottsym{⇝} \, \targetpre F \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \lottsym{,} \, a \, \lottsym{:} \, κ \, \lottsym{⊢} \, τ₀ \, \kindingsym \, \lottsym{\star} \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, τ₁ \, \kindingsym \, \lottsym{\star} \, \lottsym{⇝} \, \targetpre B \targetpost}\\
\lotthypothesis{Γ_{C} \lottsym{;} \, Γ \, \lottsym{⊢} \, ξ \, \kindingsym \, \lottkw{L}}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre B \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \lottsym{\star} \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre B \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre B \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre B \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{\star} \targetpost \, \lottsym{↦} \, \targetpre \lottsym{\star} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre B \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{Split} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, τ₀ \lottsym{)} \, \lottsym{⟨}  \lottsym{⟩} \, \lottsym{⟨} ξ \, \lottsym{▹} \, τ₁ \lottsym{⟩} \, \lottsym{⟨} ξ \, \lottsym{▹} \, τ₁ \lottsym{⟩} \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{splitPiecewise}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{Split} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, τ \lottsym{)} \, ρ₀ \, ρ₁ \, ρ₂}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{Split} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, τ \lottsym{)} \, ρ₃ \, ρ₄ \, ρ₅}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottsym{(} \lottkw{Lift} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, τ \lottsym{)} \, ρ₀ \lottsym{)} \, \lottsym{⊙}_{\mathfrak{c}} \, \lottsym{(} \lottkw{Lift} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, τ \lottsym{)} \, ρ₃ \lottsym{)} \, \lottsym{\sim} \, \lottsym{(} \lottkw{Lift} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, τ \lottsym{)} \, ρ₆ \lottsym{)}}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₁ \, \lottsym{⊙}_{\mathfrak{c}} \, ρ₄ \, \lottsym{\sim} \, ρ₇}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, ρ₂ \, \lottsym{⊙}_{\mathfrak{c}} \, ρ₅ \, \lottsym{\sim} \, ρ₈}\\
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottsym{(} \lottkw{Lift} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, τ \lottsym{)} \, ρ₆ \lottsym{)} \, \lottsym{⊙}_{\mathfrak{c}} \, ρ₇ \, \lottsym{\sim} \, ρ₈ \, \lottsym{⇝} \, \targetpre E \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{Split} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, τ \lottsym{)} \, ρ₆ \, ρ₇ \, ρ₈ \, \lottsym{⇝} \, \targetpre E \targetpost}
\lottinferencerulesep
\lottinferencerule{splitConcat}{
\lotthypothesis{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottkw{Split} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, τ \lottsym{)} \, ρ₀ \, ρ₁ \, ρ₂ \, \lottsym{⇝} \, \targetpre E \targetpost}
}{Γ_{I} \lottsym{;} \, Γ_{C} \lottsym{;} \, Γ \, \solvingsym \, \lottsym{(} \lottkw{Lift} \, \lottsym{(} \lottsym{λ} \, a \, \lottsym{:} \, κ \lottsym{.} \, τ \lottsym{)} \, ρ₀ \lottsym{)} \, \lottsym{⊙}_{\mathfrak{c}} \, ρ₁ \, \lottsym{\sim} \, ρ₂ \, \lottsym{⇝} \, \targetpre E \targetpost}
}
