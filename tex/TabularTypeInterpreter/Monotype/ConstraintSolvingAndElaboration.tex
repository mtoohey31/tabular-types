\lottjudgement{Constraint Solving And Elaboration}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre ψ \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}{
\lottinferencerule{local}{
\lotthypothesis{\sourcepre ψ \sourcepost \, \lottsym{⇝} \, \targetpre x \targetpost \, \lottsym{∈} \, \sourcepre Γ \sourcepost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre ψ \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre x \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerule{containRefl}{
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₚ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ \sourcepost \, \lottsym{≲}_{\sourcepre \sourcepre \mathfrak{n} \sourcepost \sourcepost} \, \sourcepre ρ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₚ \targetpost \lottsym{,} \, \targetpre Eᵢ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{containTrans}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{≲}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₁ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₁ \sourcepost \, \lottsym{≲}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre F \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₀ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₀ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₂ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₂ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₚ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre F \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre F \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{≲}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₚ \targetpost \lottsym{,} \, \targetpre Eᵢ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{containDecay}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{≲}_{\sourcepre μ₀ \sourcepost} \, \sourcepre ρ₁ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{\sourcepre μ₀ \sourcepost \, \lottsym{≥} \, \sourcepre μ₁ \sourcepost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre μ₁ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{U} \sourcepost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{≲}_{\sourcepre μ₁ \sourcepost} \, \sourcepre ρ₁ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}
\lottinferencerulesep
\lottinferencerule{concatConcrete}{
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre {ξ₀}_{i} \sourcepost \, \lottsym{▹} \, \sourcepre {τ₀}_{i} \sourcepost}{i}{[:m]} \lottsym{⟩} \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₀ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre {ξ₁}_{j} \sourcepost \, \lottsym{▹} \, \sourcepre {τ₁}_{j} \sourcepost}{j}{[:n]} \lottsym{⟩} \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₁ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre {ξ₀}_{i} \sourcepost \, \lottsym{▹} \, \sourcepre {τ₀}_{i} \sourcepost}{i}{[:m]} \lottsym{,} \, \lottsepbycomprehensionpatcollection{\sourcepre {ξ₁}_{j} \sourcepost \, \lottsym{▹} \, \sourcepre {τ₁}_{j} \sourcepost}{j}{[:n]} \lottsym{⟩} \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₂ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lotthypothesis{\lottjudgementcomprehensionpatcollection{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre {τ₀}_{i} \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre {B₀}_{i} \targetpost}{i}{[:m]}}\\
\lotthypothesis{\lottjudgementcomprehensionpatcollection{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre {τ₁}_{j} \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre {B₁}_{j} \targetpost}{j}{[:n]}}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(} \lottsepbycomprehensionpatcollection{\targetpre \lottsym{π}_{i} \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost}{i}{[:m]} \lottsym{,} \, \lottsepbycomprehensionpatcollection{\targetpre \lottsym{π}_{j} \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost}{j}{[:n]} \lottsym{)} \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ' \targetpost}{\targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{} \lottsepbycomprehensionpatcollection{\targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \targetpre \targetpre a \targetpost \targetpost \, \targetpre {B₀}_{i} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre xₗ \targetpost \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{ι}_{i} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost}{i}{[:m]} \lottsym{,} \, \lottsepbycomprehensionpatcollection{\targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \targetpre \targetpre a \targetpost \targetpost \, \targetpre {B₁}_{j} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre xᵣ \targetpost \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{ι}_{j} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost}{j}{[:n]} \lottsym{\}} \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \star \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre Eₑ' \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₚₗ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(} \lottsepbycomprehensionpatcollection{\targetpre \lottsym{π}_{i} \, \targetpre \targetpre x \targetpost \targetpost \targetpost}{i}{[:m]} \lottsym{)} \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢₗ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{} \lottsepbycomprehensionpatcollection{\targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \targetpre \targetpre a \targetpost \targetpost \, \targetpre {B₀}_{i} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{ι}_{i} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost}{i}{[:m]} \lottsym{\}} \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre Eₚₗ \targetpost \lottsym{,} \, \targetpre Eᵢₗ \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eₚᵣ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(} \lottsepbycomprehensionpatcollection{\targetpre \lottsym{π}_{(m + j)} \, \targetpre \targetpre x \targetpost \targetpost \targetpost}{j}{[:n]} \lottsym{)} \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢᵣ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{} \lottsepbycomprehensionpatcollection{\targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \targetpre \targetpre a \targetpost \targetpost \, \targetpre {B₁}_{j} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{ι}_{(m + j)} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost}{j}{[:n]} \lottsym{\}} \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre Eₚᵣ \targetpost \lottsym{,} \, \targetpre Eᵢᵣ \targetpost \lottsym{)} \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre {ξ₀}_{i} \sourcepost \, \lottsym{▹} \, \sourcepre {τ₀}_{i} \sourcepost}{i}{[:m]} \lottsym{⟩} \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{n} \sourcepost \sourcepost} \, \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre {ξ₁}_{j} \sourcepost \, \lottsym{▹} \, \sourcepre {τ₁}_{j} \sourcepost}{j}{[:n]} \lottsym{⟩} \sourcepost \, \lottsym{\sim} \, \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre {ξ₀}_{i} \sourcepost \, \lottsym{▹} \, \sourcepre {τ₀}_{i} \sourcepost}{i}{[:m]} \lottsym{,} \, \lottsepbycomprehensionpatcollection{\sourcepre {ξ₁}_{j} \sourcepost \, \lottsym{▹} \, \sourcepre {τ₁}_{j} \sourcepost}{j}{[:n]} \lottsym{⟩} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatEmptyL}{
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \star \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre \lottsym{⟨}  \lottsym{⟩} \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{n} \sourcepost \sourcepost} \, \sourcepre ρ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatEmptyR}{
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \star \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \targetpost \lottsym{)} \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{n} \sourcepost \sourcepost} \, \sourcepre \lottsym{⟨}  \lottsym{⟩} \sourcepost \, \lottsym{\sim} \, \sourcepre ρ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatSwap}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{c} \sourcepost \sourcepost} \, \sourcepre ρ₁ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₀ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₀ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₁ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₁ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \star \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \targetpre aₜ \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₁ \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{c} \sourcepost \sourcepost} \, \sourcepre ρ₀ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre \lottsym{π}_{3} \, \targetpre E \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{π}_{2} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatAssocL}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₁ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₃ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E₀₁ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₁ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₂ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₄ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E₁₂ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₄ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₅ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E₀₄ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₀ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₀ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₁ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₁ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₂ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₂ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₃ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₃ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₅ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₅ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₙᵣ \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₁₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₃ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₀₄ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre Eₙᵣ \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑᵣ' \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₁₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \targetpre aₜ \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre xₗ \targetpost \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ' \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₀₄ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \targetpre aₜ \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre xₗ \targetpost \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre Eₑᵣ' \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \star \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₃ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre Eₑ' \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₚₗ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₀₁ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₀₄ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₄ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢₗᵣ \targetpost}{\targetpre \lottsym{λ} \, \targetpre x' \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₄ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x' \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢₗ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₀₁ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₀₄ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre Eᵢₗᵣ \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre Eₚₗ \targetpost \lottsym{,} \, \targetpre Eᵢₗ \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eₚᵣ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₄ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢᵣ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₄ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre Eₚᵣ \targetpost \lottsym{,} \, \targetpre Eᵢᵣ \targetpost \lottsym{)} \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₃ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₂ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₅ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatAssocR}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₁ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₃ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E₀₁ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₁ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₂ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₄ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E₁₂ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₃ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₂ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₅ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E₃₂ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₀ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₀ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₁ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₁ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₂ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₂ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₄ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₄ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₅ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \, \lottsym{⇝} \, \targetpre A₅ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lottlet{\targetpre Eₙₗ \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₀₁ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₄ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₃₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre Eₙₗ \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑₗ' \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₀₁ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \targetpre aₜ \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre xᵣ \targetpost \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ' \targetpost}{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₃₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \targetpre aₜ \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre Eₑₗ' \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₂ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre xᵣ \targetpost \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₁₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \star \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₄ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre Eₑ' \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗₚ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₃₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗᵢ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₀ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₃₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre Eₗₚ \targetpost \lottsym{,} \, \targetpre Eₗᵢ \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eᵣₚ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E₁₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E₃₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E₃₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵣᵢₗ \targetpost}{\targetpre \lottsym{λ} \, \targetpre x' \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₁ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E₃₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₀₁ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre \targetpre x' \targetpost \targetpost \targetpost \lottsym{)} \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eᵣᵢ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre \targetpre K \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(} \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E₁₂ \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \lottsym{⊕} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre a \targetpost \targetpost \, \lottsym{⟦} \targetpre A₅ \targetpost \lottsym{⟧} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre Eᵣᵢₗ \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(} \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E₃₂ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \targetpre a \targetpost \targetpost \lottsym{]} \targetpost \lottsym{)} \targetpost \targetpost \lottsym{)} \targetpost \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre Eᵣₚ \targetpost \lottsym{,} \, \targetpre Eᵣᵢ \targetpost \lottsym{)} \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₄ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₅ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{concatDecay}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{⊙}_{\sourcepre μ₀ \sourcepost} \, \sourcepre ρ₁ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{\sourcepre μ₀ \sourcepost \, \lottsym{≥} \, \sourcepre μ₁ \sourcepost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre μ₁ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{U} \sourcepost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{⊙}_{\sourcepre μ₁ \sourcepost} \, \sourcepre ρ₁ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}
\lottinferencerulesep
\lottinferencerule{concatContainL}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₁ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{≲}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{π}_{2} \, \targetpre E \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerule{concatContainR}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₁ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₁ \sourcepost \, \lottsym{≲}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{π}_{3} \, \targetpre E \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerule{liftContain}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{≲}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₁ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₀ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ₀ \sourcepost} \sourcepost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ₀ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre τ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ₁ \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ₀ \sourcepost \, \lottsym{⇝} \, \targetpre K₀ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ₁ \sourcepost \, \lottsym{⇝} \, \targetpre K₁ \targetpost}\\
\lottlet{\targetpre Eₚ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost}\\
\lottlet{\targetpre Eᵢ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre \lottsym{(} \sourcepre \lottkw{Lift} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ₀ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₀ \sourcepost \sourcepost \lottsym{)} \sourcepost \, \lottsym{≲}_{\sourcepre μ \sourcepost} \, \sourcepre \lottsym{(} \sourcepre \lottkw{Lift} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ₀ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₁ \sourcepost \sourcepost \lottsym{)} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₚ \targetpost \lottsym{,} \, \targetpre Eᵢ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{liftConcat}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₁ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ρ₀ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ₀ \sourcepost} \sourcepost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ₀ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre τ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ₁ \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ₀ \sourcepost \, \lottsym{⇝} \, \targetpre K₀ \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ₁ \sourcepost \, \lottsym{⇝} \, \targetpre K₁ \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre E \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{2} \, \targetpre E \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{2} \, \targetpre E \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre \lottsym{π}_{3} \, \targetpre E \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre K₁ \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{1} \, \targetpre \lottsym{π}_{3} \, \targetpre E \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K₀ \targetpost \lottsym{.} \, \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre A \targetpost \targetpost \targetpost \lottsym{]} \targetpost \targetpost \lottsym{)} \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre \lottsym{(} \sourcepre \lottkw{Lift} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ₀ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₀ \sourcepost \sourcepost \lottsym{)} \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre \lottsym{(} \sourcepre \lottkw{Lift} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ₀ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₁ \sourcepost \sourcepost \lottsym{)} \sourcepost \, \lottsym{\sim} \, \sourcepre \lottsym{(} \sourcepre \lottkw{Lift} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ₀ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₂ \sourcepost \sourcepost \lottsym{)} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{TCInst}{
\lotthypothesis{\sourcepre \lottsym{(} \lottsym{∀} \, \lottsepbycomprehension{\sourcepre {a}_{k} \sourcepost \, \lottsym{:} \, \sourcepre {κ}_{k} \sourcepost} \lottsym{.} \, \lottsepbycomprehension{\sourcepre {ψ}_{j} \sourcepost \, \lottsym{⇝} \, \targetpre {x}_{j} \targetpost} \, \lottsym{⇒} \, \sourcepre TC \sourcepost \, \sourcepre τ₀ \sourcepost \lottsym{)} \, \lottsym{⇝} \, \targetpre E \targetpost \lottsym{;} \, \lottsepbycomprehension{\targetpre {Eₛ}_{i} \targetpost} \sourcepost \, \lottsym{∈} \, \sourcepre Γ_{I} \sourcepost}\\
\lotthypothesis{\lottjudgementcomprehension{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre {τ₁}_{k} \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre {κ}_{k} \sourcepost \, \lottsym{⇝} \, \targetpre {B}_{k} \targetpost}}\\
\lotthypothesis{\lottjudgementcomprehension{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre {ψ}_{j} \sourcepost\lottsepbycomprehension{\left[{\sourcepre τ₁ \sourcepost}_{k}/{\sourcepre a \sourcepost}_{k}\right]} \sourcepost \, \lottsym{⇝} \, \targetpre {F}_{j} \targetpost}}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre TC \sourcepost \, \sourcepre \sourcepre τ₀ \sourcepost\lottsepbycomprehension{\left[{\sourcepre τ₁ \sourcepost}_{k}/{\sourcepre a \sourcepost}_{k}\right]} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre \targetpre \targetpre E \targetpost\lottsepbycomprehension{\left[{\targetpre B \targetpost}_{k}/{\targetpre a \targetpost}_{k}\right]} \targetpost\lottsepbycomprehension{\left[{\targetpre F \targetpost}_{j}/{\targetpre x \targetpost}_{j}\right]} \targetpost \lottsym{,} \, \lottsepbycomprehension{\targetpre \targetpre \targetpre {Eₛ}_{i} \targetpost\lottsepbycomprehension{\left[{\targetpre B \targetpost}_{k}/{\targetpre a \targetpost}_{k}\right]} \targetpost\lottsepbycomprehension{\left[{\targetpre F \targetpost}_{j}/{\targetpre x \targetpost}_{j}\right]} \targetpost} \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{TCSuper}{
\lotthypothesis{\sourcepre \lottsym{(} \lottsepbycomprehensionpatcollection{\sourcepre {TCₛ}_{j} \sourcepost \, \sourcepre a \sourcepost \, \lottsym{⇝} \, \targetpre {Aₛ}_{j} \targetpost}{j}{[:n]} \, \lottsym{⇒} \, \sourcepre TC \sourcepost \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{)} \, \lottsym{↦} \, \sourcepre m \sourcepost \, \lottsym{:} \, \sourcepre σ \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost \sourcepost \, \lottsym{∈} \, \sourcepre Γ_{C} \sourcepost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre TC \sourcepost \, \sourcepre τ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{i \, \lottsym{∈} \, \lottsym{[} \lottsym{:} n \lottsym{]}}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre {TCₛ}_{i} \sourcepost \, \sourcepre τ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{π}_{(1 + i)} \, \targetpre E \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerule{allEmpty}{
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre ψ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{All} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre ψ \sourcepost \lottsym{)} \sourcepost \, \sourcepre \lottsym{⟨}  \lottsym{⟩} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{allSingletonIntro}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ψ \sourcepost\left[\sourcepre τ \sourcepost/\sourcepre a \sourcepost\right] \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre ψ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ξ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{L} \sourcepost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre τ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{All} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre ψ \sourcepost \lottsym{)} \sourcepost \, \sourcepre \lottsym{⟨} \sourcepre ξ \sourcepost \, \lottsym{▹} \, \sourcepre τ \sourcepost \lottsym{⟩} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre E \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{allSingletonElim}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{All} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre ψ \sourcepost \lottsym{)} \sourcepost \, \sourcepre \lottsym{⟨} \sourcepre ξ \sourcepost \, \lottsym{▹} \, \sourcepre τ \sourcepost \lottsym{⟩} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ψ \sourcepost\left[\sourcepre τ \sourcepost/\sourcepre a \sourcepost\right] \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{π}_{0} \, \targetpre E \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerule{allContain}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{≲}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₁ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre F \targetpost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{All} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre ψ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₁ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre ψ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{All} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre ψ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₀ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre F \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K \targetpost \lottsym{.} \, \targetpre A \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre E \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerule{allConcat}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₀ \sourcepost \, \lottsym{⊙}_{\sourcepre μ \sourcepost} \, \sourcepre ρ₁ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre F \targetpost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{All} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre ψ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₀ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E₀ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{All} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre ψ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₁ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E₁ \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre ψ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{All} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre ψ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \lottsym{(} \targetpre \lottsym{π}_{0} \, \targetpre F \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{[} \targetpre \lottsym{λ} \, \targetpre a \targetpost \, \lottsym{:} \, \targetpre K \targetpost \lottsym{.} \, \targetpre A \targetpost \targetpost \lottsym{]} \targetpost \, \targetpre E₀ \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre E₁ \targetpost \targetpost}
\lottinferencerulesep
\lottinferencerulecommented{ind}{where the comprehension in $\targetpre E' \targetpost$ is repeated application}{
\lotthypothesis{\lottjudgementcomprehensionpatcollection{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre {τ}_{i} \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre {A}_{i} \targetpost}{i}{[:n]}}\\
\lotthypothesis{\lottsym{⊢} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre K \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre \sourcepre \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre aₗ \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{L} \sourcepost \sourcepost \lottsym{,} \, \sourcepre aₜ \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \sourcepost \lottsym{,} \, \sourcepre aₚ \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \sourcepost \lottsym{,} \, \sourcepre aᵢ \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre \sourcepre aₚ \sourcepost \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{n} \sourcepost \sourcepost} \, \sourcepre \lottsym{⟨} \sourcepre \sourcepre aₗ \sourcepost \sourcepost \, \lottsym{▹} \, \sourcepre \sourcepre aₜ \sourcepost \sourcepost \lottsym{⟩} \sourcepost \, \lottsym{\sim} \, \sourcepre \sourcepre aᵢ \sourcepost \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre \targetpre \targetpre \targetpre Bₗ \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre aᵢ \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \sourcepost \lottsym{,} \, \sourcepre aₙ \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{R}^{\sourcepre κ \sourcepost} \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre \sourcepre aᵢ \sourcepost \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{n} \sourcepost \sourcepost} \, \sourcepre \sourcepre aₙ \sourcepost \sourcepost \, \lottsym{\sim} \, \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre \sourcepre {ℓ}_{i} \sourcepost \sourcepost \, \lottsym{▹} \, \sourcepre {τ}_{i} \sourcepost}{i}{[:n]} \lottsym{⟩} \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{C} \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre \targetpre Bᵣ \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Aₛ \targetpost}{\targetpre \lottsym{∀} \, \targetpre aₗ \targetpost \, \lottsym{:} \, \targetpre \star \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre K \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aₚ \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aᵢ \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre \lottsym{∀} \, \targetpre aₙ \targetpost \, \lottsym{:} \, \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{.} \, \targetpre \targetpre Bₗ \targetpost \, \lottsym{→} \, \targetpre \targetpre Bᵣ \targetpost \, \lottsym{→} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre aₘ \targetpost \targetpost \, \targetpre \targetpre aₚ \targetpost \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre \targetpre aₘ \targetpost \targetpost \, \targetpre \targetpre aᵢ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lotthypothesis{\lottjudgementcomprehensionpatcollection{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre \sourcepre {ℓ}_{j} \sourcepost \sourcepost \, \lottsym{▹} \, \sourcepre {τ}_{j} \sourcepost}{j}{[:i]} \lottsym{⟩} \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{n} \sourcepost \sourcepost} \, \sourcepre \lottsym{⟨} \sourcepre \sourcepre {ℓ}_{i} \sourcepost \sourcepost \, \lottsym{▹} \, \sourcepre {τ}_{i} \sourcepost \lottsym{⟩} \sourcepost \, \lottsym{\sim} \, \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre \sourcepre {ℓ}_{k} \sourcepost \sourcepost \, \lottsym{▹} \, \sourcepre {τ}_{k} \sourcepost}{k}{[:i+1]} \lottsym{⟩} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre {Eₗ}_{i} \targetpost}{i}{[:n]}}\\
\lotthypothesis{\lottjudgementcomprehensionpatcollection{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre \sourcepre {ℓ}_{j} \sourcepost \sourcepost \, \lottsym{▹} \, \sourcepre {τ}_{j} \sourcepost}{j}{[:i+1]} \lottsym{⟩} \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{n} \sourcepost \sourcepost} \, \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre \sourcepre {ℓ}_{k} \sourcepost \sourcepost \, \lottsym{▹} \, \sourcepre {τ}_{k} \sourcepost}{k}{[i+1:n]} \lottsym{⟩} \sourcepost \, \lottsym{\sim} \, \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre \sourcepre {ℓ}_{l} \sourcepost \sourcepost \, \lottsym{▹} \, \sourcepre {τ}_{l} \sourcepost}{l}{[:n]} \lottsym{⟩} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre {Eᵣ}_{i} \targetpost}{i}{[:n]}}\\
\lottlet{\targetpre E' \targetpost}{\targetpre \lottsepbycomprehensionpatcollection{\targetpre \targetpre \lottsym{(} \targetpre \targetpre \lottsym{(} \targetpre \targetpre \targetpre \targetpre \targetpre \targetpre \targetpre \targetpre xₛ \targetpost \targetpost \, \lottsym{[} \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre {A}_{i} \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \lottsym{\{} \lottsepbycomprehensionpatcollection{\targetpre {A}_{j} \targetpost}{j}{[:i]} \lottsym{\}} \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \lottsym{\{} \lottsepbycomprehensionpatcollection{\targetpre {A}_{k} \targetpost}{k}{[:i+1]} \lottsym{\}} \targetpost \lottsym{]} \targetpost \, \lottsym{[} \targetpre \lottsym{\{} \lottsepbycomprehensionpatcollection{\targetpre {A}_{l} \targetpost}{l}{[i+1:n]} \lottsym{\}} \targetpost \lottsym{]} \targetpost \, \targetpre {Eₗ}_{i} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre {Eᵣ}_{i} \targetpost \targetpost \lottsym{)} \targetpost \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost}{i}{[:n]} \, \targetpre \targetpre xᵢ \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre E \targetpost}{\targetpre \lottsym{Λ} \, \targetpre aₘ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottkw{L}^{\targetpre K \targetpost} \targetpost \lottsym{)} \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₛ \targetpost \, \lottsym{:} \, \targetpre Aₛ \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵢ \targetpost \, \lottsym{:} \, \targetpre \targetpre \targetpre aₘ \targetpost \targetpost \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre E' \targetpost \targetpost \targetpost \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{Ind} \, \sourcepre \lottsym{⟨} \lottsepbycomprehensionpatcollection{\sourcepre \sourcepre {ℓ}_{i} \sourcepost \sourcepost \, \lottsym{▹} \, \sourcepre {τ}_{i} \sourcepost}{i}{[:n]} \lottsym{⟩} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}
\lottinferencerulesep
\lottinferencerule{splitEmpty}{
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre τ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \star \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \star \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗᵣ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{Split} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre \lottsym{⟨}  \lottsym{⟩} \sourcepost \, \sourcepre \lottsym{⟨}  \lottsym{⟩} \sourcepost \, \sourcepre \lottsym{⟨}  \lottsym{⟩} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗᵣ \targetpost \lottsym{,} \, \targetpre Eₗᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{splitSingletonMatch}{
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre τ₀ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \star \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre τ₁ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre B \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ξ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{L} \sourcepost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre \targetpre A \targetpost\left[\targetpre B \targetpost/\targetpre a \targetpost\right] \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \star \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre \targetpre A \targetpost\left[\targetpre B \targetpost/\targetpre a \targetpost\right] \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xₗ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre \targetpre A \targetpost\left[\targetpre B \targetpost/\targetpre a \targetpost\right] \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre \targetpre A \targetpost\left[\targetpre B \targetpost/\targetpre a \targetpost\right] \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre \targetpre A \targetpost\left[\targetpre B \targetpost/\targetpre a \targetpost\right] \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \targetpost \lottsym{)} \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{Split} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ₀ \sourcepost \lottsym{)} \sourcepost \, \sourcepre \lottsym{⟨} \sourcepre ξ \sourcepost \, \lottsym{▹} \, \sourcepre τ₁ \sourcepost \lottsym{⟩} \sourcepost \, \sourcepre \lottsym{⟨}  \lottsym{⟩} \sourcepost \, \sourcepre \lottsym{⟨} \sourcepre ξ \sourcepost \, \lottsym{▹} \, \sourcepre \sourcepre τ₀ \sourcepost\left[\sourcepre τ₁ \sourcepost/\sourcepre a \sourcepost\right] \sourcepost \lottsym{⟩} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{splitSingletonRest}{
\lotthypothesis{\lottsym{∄} \, τ₂, F, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre τ₁ \sourcepost \sourcepost \sourcepost \, \lottsym{<:} \, \sourcepre \sourcepre \sourcepre \sourcepre τ₀ \sourcepost\left[\sourcepre τ₂ \sourcepost/\sourcepre a \sourcepost\right] \sourcepost \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre F \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre \sourcepre τ₀ \sourcepost \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \star \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre τ₁ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \star \sourcepost \, \lottsym{⇝} \, \targetpre B \targetpost}\\
\lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre \sourcepre ξ \sourcepost \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \lottkw{L} \sourcepost}\\
\lottlet{\targetpre Eₙ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre B \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₑ \targetpost}{\targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{Λ} \, \targetpre aₜ \targetpost \, \lottsym{:} \, \targetpre \star \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xₗ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre xᵣ \targetpost \, \lottsym{:} \, \targetpre \targetpre \lottsym{(} \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre B \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{)} \targetpost \, \lottsym{→} \, \targetpre \targetpre aₜ \targetpost \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre xᵣ \targetpost \targetpost \targetpost \targetpost \targetpost \targetpost}\\
\lottlet{\targetpre Eₗ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre B \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{(}  \lottsym{)} \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \lottkw{case} \, \targetpre \targetpre x \targetpost \targetpost \, \lottsym{\{}  \lottsym{\}} \targetpost \targetpost \targetpost \lottsym{)} \targetpost}\\
\lottlet{\targetpre Eᵣ \targetpost}{\targetpre \lottsym{(} \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊗} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre B \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{,} \, \targetpre \lottsym{Λ} \, \targetpre a' \targetpost \, \lottsym{:} \, \targetpre \targetpre \star \targetpost \, \lottsym{↦} \, \targetpre \star \targetpost \targetpost \lottsym{.} \, \targetpre \lottsym{λ} \, \targetpre x \targetpost \, \lottsym{:} \, \targetpre \lottsym{⊕} \, \targetpre \lottsym{\{} \targetpre \targetpre \targetpre a' \targetpost \targetpost \, \targetpre B \targetpost \targetpost \lottsym{\}} \targetpost \targetpost \lottsym{.} \, \targetpre \targetpre x \targetpost \targetpost \targetpost \targetpost \lottsym{)} \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{Split} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ₀ \sourcepost \lottsym{)} \sourcepost \, \sourcepre \lottsym{⟨}  \lottsym{⟩} \sourcepost \, \sourcepre \lottsym{⟨} \sourcepre ξ \sourcepost \, \lottsym{▹} \, \sourcepre τ₁ \sourcepost \lottsym{⟩} \sourcepost \, \sourcepre \lottsym{⟨} \sourcepre ξ \sourcepost \, \lottsym{▹} \, \sourcepre τ₁ \sourcepost \lottsym{⟩} \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre \lottsym{(} \targetpre Eₙ \targetpost \lottsym{,} \, \targetpre Eₑ \targetpost \lottsym{,} \, \targetpre Eₗ \targetpost \lottsym{,} \, \targetpre Eᵣ \targetpost \lottsym{)} \targetpost}
\lottinferencerulesep
\lottinferencerule{splitPiecewise}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{Split} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₀ \sourcepost \, \sourcepre ρ₁ \sourcepost \, \sourcepre ρ₂ \sourcepost \sourcepost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{Split} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₃ \sourcepost \, \sourcepre ρ₄ \sourcepost \, \sourcepre ρ₅ \sourcepost \sourcepost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre \lottsym{(} \sourcepre \lottkw{Lift} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₀ \sourcepost \sourcepost \lottsym{)} \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{c} \sourcepost \sourcepost} \, \sourcepre \lottsym{(} \sourcepre \lottkw{Lift} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₃ \sourcepost \sourcepost \lottsym{)} \sourcepost \, \lottsym{\sim} \, \sourcepre \lottsym{(} \sourcepre \lottkw{Lift} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₆ \sourcepost \sourcepost \lottsym{)} \sourcepost \sourcepost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₁ \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{c} \sourcepost \sourcepost} \, \sourcepre ρ₄ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₇ \sourcepost \sourcepost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre ρ₂ \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{c} \sourcepost \sourcepost} \, \sourcepre ρ₅ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₈ \sourcepost \sourcepost}\\
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre \lottsym{(} \sourcepre \lottkw{Lift} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₆ \sourcepost \sourcepost \lottsym{)} \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{c} \sourcepost \sourcepost} \, \sourcepre ρ₇ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₈ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{Split} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₆ \sourcepost \, \sourcepre ρ₇ \sourcepost \, \sourcepre ρ₈ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}
\lottinferencerulesep
\lottinferencerule{splitConcat}{
\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \lottkw{Split} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₀ \sourcepost \, \sourcepre ρ₁ \sourcepost \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}
}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre Γ \sourcepost \, \lottsym{⊨} \, \sourcepre \sourcepre \lottsym{(} \sourcepre \lottkw{Lift} \, \sourcepre \lottsym{(} \lottsym{λ} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{.} \, \sourcepre τ \sourcepost \lottsym{)} \sourcepost \, \sourcepre ρ₀ \sourcepost \sourcepost \lottsym{)} \sourcepost \, \lottsym{⊙}_{\sourcepre \sourcepre \mathfrak{c} \sourcepost \sourcepost} \, \sourcepre ρ₁ \sourcepost \, \lottsym{\sim} \, \sourcepre ρ₂ \sourcepost \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}
}
