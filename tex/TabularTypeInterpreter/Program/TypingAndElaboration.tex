\lottjudgement{Typing And Elaboration}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \, \lottsym{⊢} \, \sourcepre pgm \sourcepost \, \lottsym{:} \, \sourcepre σ \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}{\lottinferencerule{cls}{\lotthypothesis{\lottjudgementcomprehension{\sourcepre {TCₛ}_{i} \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottsym{⇝} \, \targetpre {Aₛ}_{i} \targetpost \, \lottsym{∈} \, \sourcepre Γ_{C} \sourcepost}} \\ \lotthypothesis{\sourcepre TC \sourcepost \, \lottsym{∉} \, \lottkw{dom} \lottsym{(} \sourcepre Γ_{C} \sourcepost \lottsym{)}} \\ \lotthypothesis{\sourcepre m \sourcepost \, \lottsym{∉} \, \lottkw{dom} \lottsym{(} \sourcepre Γ_{C} \sourcepost \lottsym{)}} \\ \lotthypothesis{\sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \sourcepre \epsilon \sourcepost \lottsym{,} \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre σ₀ \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre \star \sourcepost \, \lottsym{⇝} \, \targetpre \targetpre A \targetpost \targetpost} \\ \lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre \sourcepre Γ_{C} \sourcepost \lottsym{,} \, \sourcepre \lottsym{(} \lottsepbycomprehension{\sourcepre {TCₛ}_{i} \sourcepost \, \sourcepre a \sourcepost \, \lottsym{⇝} \, \targetpre {Aₛ}_{i} \targetpost} \, \lottsym{⇒} \, \sourcepre TC \sourcepost \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \lottsym{)} \, \lottsym{↦} \, \sourcepre m \sourcepost \, \lottsym{:} \, \sourcepre σ₀ \sourcepost \, \lottsym{⇝} \, \targetpre A \targetpost \sourcepost \sourcepost \, \lottsym{⊢} \, \sourcepre pgm \sourcepost \, \lottsym{:} \, \sourcepre σ₁ \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \, \lottsym{⊢} \, \sourcepre \lottkw{class} \, \lottsepbycomprehension{\sourcepre {TCₛ}_{i} \sourcepost \, \sourcepre a \sourcepost} \, \lottsym{⇒} \, \sourcepre TC \sourcepost \, \sourcepre a \sourcepost \, \lottsym{:} \, \sourcepre κ \sourcepost \, \lottkw{where} \, \lottsym{\{} \sourcepre m \sourcepost \, \lottsym{:} \, \sourcepre σ₀ \sourcepost \lottsym{\}} \lottsym{;} \, \sourcepre pgm \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre σ₁ \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost} \lottinferencerulesep \lottinferencerule{term}{\lotthypothesis{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \lottsym{;} \, \sourcepre \epsilon \sourcepost \, \lottsym{⊢} \, \sourcepre M \sourcepost \, \lottsym{:} \, \sourcepre σ \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}}{\sourcepre Γ_{I} \sourcepost \lottsym{;} \, \sourcepre Γ_{C} \sourcepost \, \lottsym{⊢} \, \sourcepre \sourcepre M \sourcepost \sourcepost \, \lottsym{:} \, \sourcepre σ \sourcepost \, \lottsym{⇝} \, \targetpre E \targetpost}}
